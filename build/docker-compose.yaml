version: '3'
services:

  myboilerplate:
    network_mode: micro-compose_default
    restart: always
    build:
      args:
        - "SRV_UID=${SRV_UID}"
        - "SRV_GID=${SRV_GID}"
      context: ../../myboilerplate
      dockerfile: build/dev/Dockerfile
    volumes:
      - ../../myboilerplate/:/go/src/github.com/anggriawanrilda88/myboilerplate
      - go-modules:/go/pkg/mod
    environment:
      - "GO_ENV=development"
      - "SRV_DC_ONLINE=${SRV_DC_ONLINE}"
    ports:
      - 9001:5000

volumes:
  go-modules:
    external: true
